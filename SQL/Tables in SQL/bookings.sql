-- MySQL dump 10.13  Distrib 5.6.13, for Win32 (x86)
--
-- Host: localhost    Database: mybnb
-- ------------------------------------------------------
-- Server version	5.7.13-log

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `bookings`
--

DROP TABLE IF EXISTS `bookings`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `bookings` (
  `bookingID` int(11) NOT NULL AUTO_INCREMENT,
  `availabilityID` int(11) NOT NULL,
  `renterID` int(11) NOT NULL,
  `starts` date NOT NULL,
  `ends` date NOT NULL,
  `status` enum('Available','Canceled by Renter','Canceled by Host') NOT NULL DEFAULT 'Available',
  `num_guests` smallint(5) unsigned NOT NULL,
  `card_number` bigint(20) NOT NULL,
  `updated_on` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`bookingID`),
  KEY `card_number` (`card_number`),
  KEY `availabilityID` (`availabilityID`),
  KEY `renterID` (`renterID`),
  KEY `starts` (`starts`,`ends`),
  KEY `status` (`status`),
  CONSTRAINT `bookings_ibfk_1` FOREIGN KEY (`card_number`) REFERENCES `renter_payments` (`card_number`),
  CONSTRAINT `bookings_ibfk_2` FOREIGN KEY (`availabilityID`) REFERENCES `availability` (`availabilityID`) ON DELETE CASCADE,
  CONSTRAINT `bookings_ibfk_3` FOREIGN KEY (`renterID`) REFERENCES `users` (`sin_id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=160100081 DEFAULT CHARSET=utf8;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `bookings`
--

LOCK TABLES `bookings` WRITE;
/*!40000 ALTER TABLE `bookings` DISABLE KEYS */;
INSERT INTO `bookings` VALUES (160100003,13000003,33212966,'2016-06-05','2016-07-18','Available',2,5590000000000000,'2016-07-25 03:11:36'),(160100005,13000005,34552909,'2016-06-24','2016-07-19','Available',2,5540000000000000,'2016-07-25 03:11:36'),(160100006,13000006,36141263,'2016-06-05','2016-07-25','Available',3,5340000000000000,'2016-07-25 03:11:36'),(160100007,13000007,37193227,'2016-06-03','2016-07-02','Available',4,5140000000000000,'2016-07-25 03:11:36'),(160100011,13000011,38855266,'2016-06-23','2016-07-01','Available',1,349000000000000,'2016-07-25 03:11:36'),(160100015,13000015,34552909,'2016-06-26','2016-07-24','Available',2,5540000000000000,'2016-07-25 03:11:36'),(160100016,13000016,36141263,'2016-06-15','2016-07-10','Available',3,5340000000000000,'2016-07-25 03:11:36'),(160100018,13000018,37253135,'2016-06-05','2016-07-06','Available',1,5160000000000000,'2016-07-25 03:11:36'),(160100019,13000019,37844039,'2016-06-07','2016-07-24','Available',1,5450000000000000,'2016-07-25 03:11:36'),(160100020,13000020,38573316,'2016-06-10','2016-07-22','Available',2,5540000000000000,'2016-07-25 03:11:36'),(160100029,13000029,34552909,'2016-06-10','2016-07-17','Available',2,5540000000000000,'2016-07-25 03:11:36'),(160100030,13000030,36141263,'2016-06-21','2016-07-01','Available',2,5340000000000000,'2016-07-25 03:11:36'),(160100031,13000031,37193227,'2016-06-01','2016-07-20','Available',5,5140000000000000,'2016-07-25 03:11:36'),(160100032,13000032,37253135,'2016-06-24','2016-07-27','Available',2,5160000000000000,'2016-07-25 03:11:36'),(160100033,13000033,37844039,'2016-06-05','2016-07-05','Available',4,5450000000000000,'2016-07-25 03:11:36'),(160100034,13000034,38573316,'2016-06-12','2016-07-02','Available',2,5540000000000000,'2016-07-25 03:11:36'),(160100035,13000035,23904087,'2016-06-18','2016-07-31','Available',2,4890000000000000,'2016-07-25 03:11:36'),(160100037,13000037,24345657,'2016-06-09','2016-07-21','Available',2,4020000000000000,'2016-07-25 03:11:36'),(160100038,13000038,23904087,'2016-06-04','2016-07-24','Available',3,4890000000000000,'2016-07-25 03:11:36'),(160100040,13000040,24345657,'2016-06-28','2016-07-20','Available',4,4020000000000000,'2016-07-25 03:11:36'),(160100042,13000042,37193227,'2016-06-26','2016-07-08','Available',3,5140000000000000,'2016-07-25 03:11:36'),(160100043,13000043,37253135,'2016-06-11','2016-07-24','Available',2,5160000000000000,'2016-07-25 03:11:36'),(160100044,13000044,37844039,'2016-06-12','2016-07-08','Available',3,5450000000000000,'2016-07-25 03:11:36'),(160100053,13000053,24345657,'2016-06-25','2016-07-19','Available',2,4020000000000000,'2016-07-25 03:11:36'),(160100054,13000054,23904087,'2016-06-28','2016-07-22','Available',1,4890000000000000,'2016-07-25 03:11:36'),(160100055,13000055,36141263,'2016-06-26','2016-07-11','Available',2,5340000000000000,'2016-07-25 03:11:36'),(160100056,13000056,37193227,'2016-06-02','2016-07-07','Available',4,5140000000000000,'2016-07-25 03:11:36'),(160100057,13000057,37253135,'2016-06-27','2016-07-17','Available',4,5160000000000000,'2016-07-25 03:11:36'),(160100058,13000058,37844039,'2016-07-28','2016-08-29','Available',1,5450000000000000,'2016-07-25 03:11:36'),(160100059,13000059,23904087,'2016-07-14','2016-08-08','Available',1,4890000000000000,'2016-07-25 03:11:36'),(160100065,13000065,24345657,'2016-07-24','2016-08-31','Available',6,4020000000000000,'2016-07-25 03:11:36'),(160100066,13000066,37193227,'2016-07-18','2016-08-22','Available',4,5140000000000000,'2016-07-25 03:11:36'),(160100067,13000067,37253135,'2016-07-02','2016-08-22','Available',3,5160000000000000,'2016-07-25 03:11:36'),(160100068,13000068,37844039,'2016-07-25','2016-08-09','Available',1,5450000000000000,'2016-07-25 03:11:36'),(160100077,13000077,23904087,'2016-07-14','2016-08-15','Available',4,4890000000000000,'2016-07-25 03:11:36'),(160100079,13000079,24345657,'2016-07-24','2016-08-02','Available',4,4020000000000000,'2016-07-25 03:11:36'),(160100080,13000080,23904087,'2016-07-18','2016-08-02','Available',2,4890000000000000,'2016-07-25 03:11:36');
/*!40000 ALTER TABLE `bookings` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2016-07-24 23:17:42
